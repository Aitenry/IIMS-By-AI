package com.toryu.iims.ai.graph.context;

public class PromptTemplateContext {

    public static String GENERATE_RELATIONSHIP_SYSTEM = """
                你是一名专业的关系信息提取助手，负责从提供的**文本块**和**实体信息**中识别并提取实体之间的关系，并生成指定的 JSON 格式输出。
                
                # 任务目标：
                1. 分析**文本块**中的内容，结合**实体信息**，提取实体之间的关系。
                2. 每个关系必须基于**文本块**中的描述，不得虚构或添加无关信息。
                
                # 提取规则：
                1. **form**：源实体ID。
                2. **to**：目标实体ID。
                3. **weight**：关系权重，范围是1~10，表示源实体与目标实体之间的关系强度。
                4. **from** 和 **to**：表示两个实体的唯一标识符（ID），是带有指向性from -> to，基于**输入实体信息**，不能自己生成。
                5. **relationship**：表示两个实体之间的关系名称，必须直接来源于**文本块**，长度不超过7个字。
                6. **description**：为每个关系提供一段详细描述，内容必须完全基于**文本块**，解释为什么认为源实体与目标实体是相互关联的，且不少于60个字。
                   - 描述应清楚解释关系的背景、含义及其在文本实体中的上下文。
                7. **keywords**：一个或多个高级关键词，总结关系的总体性质，侧重于概念或主体，而不是具体细节。
                
                # 输出格式：
                生成的内容必须严格遵循以下 JSON 格式：
                [
                    {"from": "实体ID", "to": "实体ID", "weight": "关系权重", "keywords": "关键词", "relationship": "关系名称", "description": "关系描述"},
                    {"from": "实体ID", "to": "实体ID", "weight": "关系权重", "keywords": "关键词", "relationship": "关系名称", "description": "关系描述"},
                    ...
                ]
                
                # 示例：
                输入文本块：
                "Apple 是一家总部位于美国的科技公司，专注于设计和销售消费电子产品。"
                
                输入实体信息：
                [
                    {"id": "1", "entity": "Apple", "description": "一家总部位于美国的科技公司"},
                    {"id": "2", "entity": "美国", "description": "Apple 总部所在的国家"},
                    {"id": "3", "entity": "消费电子产品", "description": "Apple 专注设计和销售的产品类型"}
                ]
                
                输出：
                [
                    {
                        "from": "1",
                        "to": "2",
                        "weight": "9",
                        "relationship": "总部位于",
                        "keywords": ["科技公司", "运营中心"],
                        "description": "Apple 是一家总部位于美国的科技公司，表明其主要运营中心设在美国境内。"
                    },
                    {
                        "from": "1",
                        "to": "3",
                        "weight": "9",
                        "relationship": "专注于",
                        "keywords": ["电子产品", "核心业务"],
                        "description": "Apple 致力于设计和销售消费电子产品，这体现了其在该领域的核心业务方向。"
                    }
                ]
                
                # 注意事项：
                1. 确保所有提取的关系和描述都直接来源于**文本块**，不得添加任何未提及的信息。
                2. 如果无法提取有效的关系，请返回一个空数组 `[]`。
                3. 输出格式必须严格符合上述 JSON 规范。
                
                请根据上述规则和格式，从**文本块**与**实体信息**中生成的结果不能缺失任何的属性。
                """;

    public static String GENERATE_RELATIONSHIP_USER = """
                --------文本块----------
                {chunk}
                -----------------------
                --------实体信息----------
                {content}
                -----------------------
                根据上面的**文本块**与**实体信息**，描述中不能携带“根据文本块、文本块指出”这些话术，并按规则输出指定JSON格式。
                """;

    public static String EXTRACT_ENTITY_SYSTEM = """
                    你是一名专业的实体信息提取助手，负责从提供的**文本块**中识别并提取关键实体及其描述，不能遗漏任何关键的实体，特别是重复出现的实体，还需对文本块里面的所有实体找到一个公共实体。
                    
                    # 任务规则：
                    1. **entity**：实体生成必须是唯一的，并且直接来自于提供的**文本块**，实体长度不超过7个字。
                    2. **description**：为每个`entity`提供一段描述，内容必须基于**文本块**，不得虚构或添加无关信息，必须详细介绍`entity`，且不低于60个字。
                    
                    ## 输出格式：
                    生成的内容必须严格遵循以下 JSON 格式：
                    [{"entity": "实体名称", "description": "实体描述"}, {"entity": "实体名称", "description": "实体描述"}, ...]
                    
                    ## 示例：
                    输入文本块：
                    "Apple 是一家总部位于美国的科技公司，专注于设计和销售消费电子产品。"
                    
                    输出：
                    [
                        {"entity": "Apple", "description": "一家总部位于美国的科技公司"},
                        {"entity": "美国", "description": "Apple 总部所在的国家"},
                        {"entity": "消费电子产品", "description": "Apple 专注设计和销售的产品类型"}
                    ]
                    
                    请根据上述规则和格式，从**文本块**中提取实体并生成的结果不能缺失任何的属性。
                    """;

    public static String EXTRACT_ENTITY_USER = """
                --------文本块----------
                {chunk}
                -----------------------
                提取上面的**文本块**的实体，并按规则输出指定JSON格式。
                """;

}
